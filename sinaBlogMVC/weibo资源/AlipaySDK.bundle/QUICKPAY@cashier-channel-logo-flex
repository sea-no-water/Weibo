{"time":"0036","tplId":"QUICKPAY@cashier-channel-logo-flex","publishVersion":"150924","tag":"QUICKPAY","name":"cashier-channel-logo-flex","data":{"tag":"html","children":[{"tag":"head","children":[{"tag":"script","src":"js/cashier-channel-logo-flex.js"},{"tag":"meta","src":"AlipaySDK.bundle/amc.i18n","type":"i18n"},{"tag":"link","rel":"stylesheet","href":"AlipaySDK.bundle/amc.css"},{"tag":"script","src":"AlipaySDK.bundle/amc.js"},{"tag":"script","children":[{"text":"var getTag=amc.fn.getById;var show=amc.fn.show;var hide=amc.fn.hide;var create=amc.fn.create;var rpc=amc.rpcData;var marginLeft=5;var path=amc.path+\"alipay_msp_\";var arrowRightImg=path+\"arrow_right\";var huiPng=path+\"hui\";var fanPng=path+\"fan\";var busyPng=path+\"busy\";var gouPng=path+\"gou\";function createPaymentItem(r,h){if(!r.disable){r.detailAction=\"\"}var n=getTag(\"channel\");var c=create(\"div\");c.className=\"item amc-pd-lr\";var k;if(r.disable){if(!r.detailAction){c.disabled=true}}else{c.onclick=function(){if(r.checked){document.submit({action:{name:\"loc:back\"}});return}var s={action:{name:\"/cashier/switchChannelSel\",loadtxt:\"\"}};s.param={selected_channel:r.value};s.param[\"first_enter_cashier\"]=false;if(r.add){}else{s.action[\"l2rmode\"]=\"1\"}document.asyncSubmit(s,function(t){if(t.pageloading===\"1\"){if(r.add){hide(\"add\")}show(k)}else{if(t.pageloading===\"0\"){hide(k);if(r.add){show(\"add\")}}}});if(r.add){hide(\"add\")}show(k)}}var b=create(\"div\");var f=create(\"img\");if(!r.add&&r.logo){if(r.logo.indexOf(\"local:\")==0){f.src=amc.path+r.logo.substr(\"local:\".length)}else{f.src=r.logo;f.defaultvalue=path+\"bank_logo\"}if(r.disable){f.style.cssText=\"opacity:0.3\"}}if(r.add){hide(f)}f.style.cssText=\"width:25px;height:25px;margin-right:10px;\";b.appendChild(f);c.appendChild(b);var q=create(\"div\");q.className=\"amc-v-box-center\";c.appendChild(q);var g=create(\"div\");g.className=\"amc-item-m-box\";g.style.flex=\"0\";q.appendChild(g);var e=create(\"div\");g.appendChild(e);var i=create(\"label\");i.className=\"amc-item-m-text amc-ellipsis\";i.style.cssText=\"flex:0;\";i.style.maxWidth=amc.isPlus?220:140;i.innerText=r.name||\"\";e.appendChild(i);var j=create(\"label\");j.className=\"amc-item-m-text\";j.style.cssText=\"flex:0;\";j.innerText=r.tail||\"\";e.appendChild(j);if(r.hui){var o=create(\"img\");o.src=huiPng;o.style.marginLeft=marginLeft;g.appendChild(o)}if(r.fan){var o=create(\"img\");o.src=fanPng;o.style.marginLeft=marginLeft;g.appendChild(o)}if(r.busy){var o=create(\"img\");o.src=busyPng;o.style.marginLeft=marginLeft;g.appendChild(o)}var d=undefined;if(r.detail){d=create(\"label\");var p=\"font-size:12px;text-align:left;color:#999; margin-top:3px;\";if(r.detailAction){d.onclick=function(){var s={action:{name:r.detailAction,loadtxt:\"\"}};document.submit(s);if(r.dlg&&r.dlg[\"btnRightAction\"]){setTimeout(function(){showDlg(r.dlg)},1000)}}}else{p+=\" white-space:nowrap;overflow:hidden; text-overflow: ellipsis\"}d.style.cssText=p;d.innerText=r.detail;q.appendChild(d)}if(r.disable){if(d&&!r.detailAction){d.style.color=\"#ccc\"}i.style.color=\"#ccc\";j.style.color=\"#ccc\"}else{c.className+=\" amc-press-box\"}var m=create(\"img\");m.src=gouPng;hide(m);if(r.checked){show(m);current_channal=h}else{if(r.add){show(m);m.src=arrowRightImg;m.id=\"add\"}}k=create(\"img\");k.src=\"indicatior\";hide(k);m.style.marginLeft=\"15px\";k.style.marginLeft=\"15px\";c.appendChild(k);c.appendChild(m);n.appendChild(c);var a=create(\"div\");var l=create(\"div\");a.appendChild(l);if(h<rpc.payments.length-1){a.className=\"amc-pd-lr\"}l.className=\"amc-1px-line amc-pd-lr amc-flex-1\";n.appendChild(a);return c}function init(){var b=rpc.exit?amc.res.close:amc.res.arrowLeft;var d=rpc.setting?\"{{setting}}\":null;var e=amc.fn.iNav(b,\"{{sel_pay_tool}}\",d,null,onBack,gotoSetting);getTag(\"body\").insertBefore(e,getTag(\"iLine\"));if(getTag(\"iNavBoxR\")&&getTag(\"iNavBoxL\")){getTag(\"iNavBoxR\").style.width=amc.isPlus?85:75;getTag(\"iNavBoxL\").style.width=amc.isPlus?85:75}for(var a=0;a<rpc.payments.length;a++){var c=createPaymentItem(rpc.payments[a],a)}}function gotoSetting(){if(rpc.setting){document.submit({action:{name:\"/forward/setting\"}})}}function onBack(){if(rpc.exit){amc.fn.exitConfirm()}else{amc.fn.back()}}function onKeyDown(){if(event.which==4){onBack()}}function showDlg(a){if(!a||!a.btnRight||!a.dlgTxt||!a.btnLeft||!a.btnRight){return}getTag(\"dlgTxt\").innerText=a.dlgTxt;getTag(\"btnLeft\").innerText=a.btnLeft;getTag(\"btnRight\").innerText=a.btnRight;getTag(\"btnRight\").onclick=function(){var b={action:{name:a.btnRightAction}};document.submit(b);getTag(\"dlg\").close()};getTag(\"dlg\").showModal()};","tag":"text"}]},{"tag":"style","children":[{"text":".item {\n    align-items: center;\n    padding: 10px 15px;\n    min-height: 54px;\n}\n.btn-text{font-weight:bold;color:#00aaee;margin: 15px 0;}\n.btn-vertical-line{width:1px; align-self:stretch; margin: 7px 0;background-color:#e5e5e5;}","tag":"text"}]}]},{"id":"body","onload":"init();","tag":"body","children":[{"id":"iLine","tag":"div","css":"amc-1px-title-line"},{"tag":"div","children":[{"id":"channal_area","tag":"div","children":[{"id":"channel","tag":"div","css":"amc-scroll-flex"}],"css":"amc-flex-1"}],"css":"amc-flex-1"},{"id":"dlg","tag":"dialog","children":[{"id":"dlgTxt","tag":"label","css":"amc-font-m amc-text-center amc-margin"},{"tag":"div","children":[{"tag":"div","css":"amc-adapt-line"},{"tag":"div","children":[{"id":"btnLeft","tag":"label","onclick":"getTag('dlg').close();","css":"btn-text amc-font-xxl amc-flex-1 amc-text-center"},{"tag":"div","css":"btn-vertical-line"},{"id":"btnRight","tag":"label","css":"btn-text amc-font-xxl amc-flex-1 amc-text-center"}],"css":"amc-align-center amc-justify-center"}],"css":"amc-v-box amc-justify-center amc-dlg-width"}],"css":"amc-dlg-box amc-v-box"}],"onkeydown":"onKeyDown();","css":"amc-i-body"}]},"format":"JSON","tplVersion":"5.0.3"}