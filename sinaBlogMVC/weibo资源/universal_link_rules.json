{
  "rule_groups": [

    {
      "host": ["weibo.com"],

      "rules": [

        {
          "desc": "微博首页",
          "path_match": {
            "regex": "^(/(groupsfeed|friends)?)?$"
          },
          "scheme": "sinaweibo://gotohome"
        },

        {
          "desc": "微博首页",
          "path_match": {
            "regex": "^/[a-zA-Z0-9_\\-]+/home"
          },
          "scheme": "sinaweibo://gotohome"
        },




        {
          "desc": "我的粉丝列表",
          "path_match": {
            "regex": "^/[a-zA-Z0-9_\\-/]+/myfollow($|/)"
          },
          "query_match": {
            "relate": {
              "regex": "^fans$"
            }
          },
          "scheme": "sinaweibo://fanslist"
        },

        {
          "desc": "我的关注列表",
          "path_match": {
            "regex": "^/[a-zA-Z0-9_\\-/]+/myfollow($|/)"
          },
          "scheme": "sinaweibo://myallfollowerslist"
        },

        {
          "desc": "他人粉丝列表(/p)",
          "path_match": {
            "regex": "^/p/(100505|100606|200405|100706|200505|200605|200705|103505|100134|200805|200105|200905|100406|100506)(\\d{5,16})/follow($|/)",
            "capture": ["","uid"]
          },
          "query_match": {
            "relate": {
              "regex": "^fans$"
            }
          },
          "scheme": "sinaweibo://fanslist"
        },
        {
          "desc": "他人粉丝列表(/uid)",
          "path_match": {
            "regex": "^/(\\d{5,16})/follow($|/)",
            "capture": ["uid"]
          },
          "query_match": {
            "relate": {
              "regex": "^fans$"
            }
          },
          "scheme": "sinaweibo://fanslist"
        },

        {
          "desc": "他人关注列表(/p)",
          "path_match": {
            "regex": "^/p/(100505|100606|200405|100706|200505|200605|200705|103505|100134|200805|200105|200905|100406|100506)(\\d{5,16})/follow($|/)",
            "capture": ["","uid"]
          },
          "scheme": "sinaweibo://followerslist"
        },
        {
          "desc": "他人关注列表(/uid)",
          "path_match": {
            "regex": "^/(\\d{5,16})/follow($|/)",
            "capture": ["uid"]
          },
          "scheme": "sinaweibo://followerslist"
        },



        {
          "desc": "微博正文页",
          "path_match": {
            "regex": "^/(\\d{5,16})/([0-9A-Za-z]+)($|/)",
            "capture": ["", "mblogid"]
          },
          "scheme": "sinaweibo://detail"
        },


        {
          "desc": "他人主页 (/p)",
          "path_match": {
            "regex": "^/p/(100505|100606|200405|100706|200505|200605|200705|103505|100134|200805|200105|200905|100406|100506)(\\d{5,16})($|/)",
            "capture": ["","uid"]
          },
          "scheme": "sinaweibo://userinfo"
        },
        {
          "desc": "他人主页 (/u)",
          "path_match": {
            "regex": "^/u/(\\d{5,16})($|/)",
            "capture": ["uid"]
          },
          "scheme": "sinaweibo://userinfo"
        },


        {
          "desc": "Page 对象主页",
          "path_match": {
            "regex": "^/p/((230458|100808|230718|230478|230677)([0-9a-zA-Z:_\\-]+))($|/)",
            "capture": ["pageid"]
          },
          "scheme": "sinaweibo://pageinfo"
        },

        {
          "desc": "Cardlist 对象列表",
          "path_match": {
            "regex": "^/p/((100603|230432|230351|230270|230352|106503|230356|230437|230276|230359|103203|200322|101503|230601|230440|230603|230360|230441|230604|230523|230605|230443|230525|230526|230283|230529|102403|100703|230530|230531|108303|106603|230616|230292|230293|230536|230294|230457|230295|230538|230539|103303|230701|230702|230540|230703|230622|109203|230541|230704|230623|107503|230542|230624|230543|230625|230544|230626|230545|230627|230546|230628|230466|230547|230629|230467|230548|230549|230469|102503|100803|230710|230711|230630|230631|230550|230470|108403|230551|106703|230471|230552|230634|230553|230555|230641|109303|107603|105903|230644|230645|230727|230646|230565|230729|102603|230730|230731|230732|108503|230653|230735|230654|230573|230492|230736|230737|230656|230494|230738|230657|230739|230496|230578|230579|101003|103503|230742|230661|230580|107703|230743|230662|230581|230746|230584|230666|230585|230748|230667|230749|230668|106103|102703|230751|108603|230752|230671|106903|230590|230753|230672|230754|230673|230592|230674|230593|230675|230594|230676|230759|230678|230679|103603|101903|109503|230680|107803|230762|230681|230682|230683|230684|230685|230686|230768|230687|230688|230689|666666|102803|230770|108703|230771|230690|230772|230773|230774|230775|230777|230778|230779|101203|107103|230780|230781|230782|230788|230789|100403|108003|106303|100165|230319|108803|230791|230792|230793|230794|230795|230797|230798|230799|103003|101303|230240|230403|230322|107203|230242|230404|103803|230407|230408|230409|230329|230410|230411|230413|108103|106403|230252|230333|230254|230338|103103|101403|230423|230262|230505|230506|230265|230508|230428|230347|230266|230509|230429|230268|230269|230446)([0-9a-zA-Z:_\\-]+))($|/)",
            "capture": ["containerid"]
          },
          "scheme": "sinaweibo://cardlist"
        },

        {
          "desc": "InfoPage 对象网页",
          "path_match": {
            "regex": "^/p/((101414|230272|230434|230273|230354|230435|230274|230517|230275|230519|230520|230442|230444|230284|230365|230528|230285|230286|230288|230289|230611|230612|230532|230451|230614|230452|230533|230453|230534|230454|230535|230455|230700|230705|230462|105803|230706|230463|230468|230713|230715|230635|230554|230717|230636|230393|230637|230639|230640|230724|230568|230733|106803|230491|230655|100119|230660|230744|230582|230745|230587|101010|100121|100122|100123|100126|100127|100129|230596|230598|100132|100133|100137|100139|230769|100221|100140|100142|230693|230696|230697|230699|100150|100158|230307|100159|230786|101212|100160|100162|100163|100164|100167|200205|100414|230241|230325|230245|230246|230327|230247|230248|230418|230256|230258|230501|230421|230422|230424|230426|230507|230427|230348|230810|230829|230830)([0-9a-zA-Z:_\\-]+))($|/)",
            "capture": ["containerid"]
          },
          "scheme": "sinaweibo://infopage"
        },

        {
          "desc": "消息箱@列表",
          "path_match": {
            "regex": "^/at/(weibo|comment)$"
          },
          "scheme": "sinaweibo://atlist"
        },

        {
          "desc": "消息箱评论列表",
          "path_match": {
            "regex": "^/comment/(inbox|outbox)$"
          },
          "scheme": "sinaweibo://commentlist"
        },

        {
          "desc": "消息箱赞列表",
          "path_match": {
            "regex": "^/like/(inbox|outbox)$"
          },
          "scheme": "sinaweibo://likelist"
        },

        {
          "desc": "消息箱",
          "path_match": {
            "regex": "^/(messages|notesboard)$"
          },
          "scheme": "sinaweibo://message"
        },

        {
          "desc": "收藏列表",
          "path_match": {
            "regex": "^/fav/?$"
          },
          "scheme": "sinaweibo://favorite"
        },

        {
          "desc": "自定义分组",
          "path_match": {
            "regex": "^/mygroups/?$"
          },
          "query_match": {
            "gid": {
              "map": "groupid"
            }
          },
          "scheme": "sinaweibo://changegroup"
        },

        {
          "desc": "不支持页面",
          "path_match": {
            "regex": "^/(settings|notification)/?$"
          },
          "ignore": true
        },

        {
           "desc": "Page 对象主页",
           "path_match": {
           "regex": "^/p/(([0-9]{6,})([0-9a-zA-Z:_\\-]+))($|/)",
           "capture": ["pageid"]
            },
            "scheme": "sinaweibo://pageinfo"
        },

        {
            "desc": "头条文章落地",
            "path_match": {
              "regex": "^/ttarticle/p/show"
            },
            "query_match": {
              "id": {
                "map": "object_id",
                "value_prefix": "1022:"
              }
            },
            "scheme": "sinaweibo://article"
        },

        {
          "desc": "他人主页 (个性域名)",
          "path_match": {
                "regex": "^/n/([\u4e00-\u9fa5a-zA-Z0-9-_]{1,15})(?:$|/)",
                "capture": ["nick"]
          },
          "scheme": "sinaweibo://userinfo"
        }
      ]
    },
    {
        "host": ["m.weibo.cn"],
        "rules": [
            {
                "desc":"正文页",
                "path_match":{
                    "regex":"^/(?:\\d{5,16})/([0-9A-Za-z]+)(?:$|/)",
                    "capture": ["mblogid"]
                },
                "scheme": "sinaweibo://detail"
            },
            {
                "desc":"正文页",
                "path_match":{
                    "regex":"^/(single|mblogwx)(?:$|/)"
                },
                "query_match":{
                    "id": {
                        "map": "mblogid"
                    }
                },
                "scheme": "sinaweibo://detail"
            },
            {
              "desc": "他人主页 (/u)",
              "path_match": {
                "regex": "^/u/(\\d{5,16})(?:$|/)",
                "capture": ["uid"]
              },
              "scheme": "sinaweibo://userinfo"
            },
            {
              "desc": "他人主页 (昵称)",
              "path_match": {
                "regex": "^/n/([\u4e00-\u9fa5a-zA-Z0-9-_]{1,15})(?:$|/)",
                "capture": ["nick"]
              },
              "scheme": "sinaweibo://userinfo"
            },
            {
                "desc": "他人主页 (个性域名)",
                "path_match": {
                    "regex": "^/d/([a-zA-Z0-9_\\-]{4,20})(?:$|/)",
                    "capture": ["user_domain"]
                },
                "scheme": "sinaweibo://userinfo"
            },
            {
              "desc": "Cardlist 对象列表(/index)",
              "path_match": {
                "regex": "^/p/index(?:$|/)"
              },
              "query_match": {
                  "containerid": {
                      "regex":"^((?:100603|230432|230351|230270|230352|106503|230356|230437|230276|230359|103203|200322|101503|230601|230440|230603|230360|230441|230604|230523|230605|230443|230525|230526|230283|230529|102403|100703|230530|230531|108303|106603|230616|230292|230293|230536|230294|230457|230295|230538|230539|103303|230701|230702|230540|230703|230622|109203|230541|230704|230623|107503|230542|230624|230543|230625|230544|230626|230545|230627|230546|230628|230466|230547|230629|230467|230548|230549|230469|102503|100803|230710|230711|230630|230631|230550|230470|108403|230551|106703|230471|230552|230634|230553|230555|230641|109303|107603|105903|230644|230645|230727|230646|230565|230729|102603|230730|230731|230732|108503|230653|230735|230654|230573|230492|230736|230737|230656|230494|230738|230657|230739|230496|230578|230579|101003|103503|230742|230661|230580|107703|230743|230662|230581|230746|230584|230666|230585|230748|230667|230749|230668|106103|102703|230751|108603|230752|230671|106903|230590|230753|230672|230754|230673|230592|230674|230593|230675|230594|230676|230759|230678|230679|103603|101903|109503|230680|107803|230762|230681|230682|230683|230684|230685|230686|230768|230687|230688|230689|666666|102803|230770|108703|230771|230690|230772|230773|230774|230775|230777|230778|230779|101203|107103|230780|230781|230782|230788|230789|100403|108003|106303|100165|230319|108803|230791|230792|230793|230794|230795|230797|230798|230799|103003|101303|230240|230403|230322|107203|230242|230404|103803|230407|230408|230409|230329|230410|230411|230413|108103|106403|230252|230333|230254|230338|103103|101403|230423|230262|230505|230506|230265|230508|230428|230347|230266|230509|230429|230268|230269|230446)(?:[0-9a-zA-Z:_\\-]+))$",
                      "capture": ["containerid"]
                  }
              },
              "scheme": "sinaweibo://cardlist"
            },
            {
              "desc": "InfoPage 对象网页(/index)",
              "path_match": {
                "regex": "^/p/index(?:$|/)"
              },
              "query_match": {
                  "containerid": {
                      "regex":"^((?:101414|230272|230434|230273|230354|230435|230274|230517|230275|230519|230520|230442|230444|230284|230365|230528|230285|230286|230288|230289|230611|230612|230532|230451|230614|230452|230533|230453|230534|230454|230535|230455|230700|230705|230462|105803|230706|230463|230468|230713|230715|230635|230554|230717|230636|230393|230637|230639|230640|230724|230568|230733|106803|230491|230655|100119|230660|230744|230582|230745|230587|101010|100121|100122|100123|100126|100127|100129|230596|230598|100132|100133|100137|100139|230769|100221|100140|100142|230693|230696|230697|230699|100150|100158|230307|100159|230786|101212|100160|100162|100163|100164|100167|200205|100414|230241|230325|230245|230246|230327|230247|230248|230418|230256|230258|230501|230421|230422|230424|230426|230507|230427|230348|230810|230829|230830)(?:[0-9a-zA-Z:_\\-]+))$",
                      "capture": ["containerid"]
                  }
              },
              "scheme": "sinaweibo://infopage"
            },
            {
              "desc": "Page 对象主页(/index)",
              "path_match": {
                "regex": "^/p/index(?:$|/)"
              },
              "query_match": {
                  "containerid": {
                      "regex":"^((?:230458|100808|230718|230478|230677)(?:[0-9a-zA-Z:_\\-]+))$",
                      "capture": ["pageid"]
                  }
              },
              "scheme": "sinaweibo://pageinfo"
            },
            {
              "desc": "Cardlist 对象列表",
              "path_match": {
                "regex": "^/(?:p|page|pages)/((100603|230432|230351|230270|230352|106503|230356|230437|230276|230359|103203|200322|101503|230601|230440|230603|230360|230441|230604|230523|230605|230443|230525|230526|230283|230529|102403|100703|230530|230531|108303|106603|230616|230292|230293|230536|230294|230457|230295|230538|230539|103303|230701|230702|230540|230703|230622|109203|230541|230704|230623|107503|230542|230624|230543|230625|230544|230626|230545|230627|230546|230628|230466|230547|230629|230467|230548|230549|230469|102503|100803|230710|230711|230630|230631|230550|230470|108403|230551|106703|230471|230552|230634|230553|230555|230641|109303|107603|105903|230644|230645|230727|230646|230565|230729|102603|230730|230731|230732|108503|230653|230735|230654|230573|230492|230736|230737|230656|230494|230738|230657|230739|230496|230578|230579|101003|103503|230742|230661|230580|107703|230743|230662|230581|230746|230584|230666|230585|230748|230667|230749|230668|106103|102703|230751|108603|230752|230671|106903|230590|230753|230672|230754|230673|230592|230674|230593|230675|230594|230676|230759|230678|230679|103603|101903|109503|230680|107803|230762|230681|230682|230683|230684|230685|230686|230768|230687|230688|230689|666666|102803|230770|108703|230771|230690|230772|230773|230774|230775|230777|230778|230779|101203|107103|230780|230781|230782|230788|230789|100403|108003|106303|100165|230319|108803|230791|230792|230793|230794|230795|230797|230798|230799|103003|101303|230240|230403|230322|107203|230242|230404|103803|230407|230408|230409|230329|230410|230411|230413|108103|106403|230252|230333|230254|230338|103103|101403|230423|230262|230505|230506|230265|230508|230428|230347|230266|230509|230429|230268|230269|230446)([0-9a-zA-Z:_\\-]+))(?:$|/)",
                "capture": ["containerid"]
              },
              "scheme": "sinaweibo://cardlist"
            },
            {
              "desc": "InfoPage 对象网页",
              "path_match": {
                "regex": "^/(?:p|page|pages)/((101414|230272|230434|230273|230354|230435|230274|230517|230275|230519|230520|230442|230444|230284|230365|230528|230285|230286|230288|230289|230611|230612|230532|230451|230614|230452|230533|230453|230534|230454|230535|230455|230700|230705|230462|105803|230706|230463|230468|230713|230715|230635|230554|230717|230636|230393|230637|230639|230640|230724|230568|230733|106803|230491|230655|100119|230660|230744|230582|230745|230587|101010|100121|100122|100123|100126|100127|100129|230596|230598|100132|100133|100137|100139|230769|100221|100140|100142|230693|230696|230697|230699|100150|100158|230307|100159|230786|101212|100160|100162|100163|100164|100167|200205|100414|230241|230325|230245|230246|230327|230247|230248|230418|230256|230258|230501|230421|230422|230424|230426|230507|230427|230348|230810|230829|230830)([0-9a-zA-Z:_\\-]+))(?:$|/)",
                "capture": ["containerid"]
              },
              "scheme": "sinaweibo://infopage"
            },
            {
              "desc": "Page 对象主页",
              "path_match": {
                "regex": "^/(?:p|page|pages)/((230458|100808|230718|230478|230677)([0-9a-zA-Z:_\\-]+))(?:$|/)",
                "capture": ["pageid"]
              },
              "scheme": "sinaweibo://pageinfo"
            }

        ]
    },
    {
        "host": ["media.weibo.cn"],
        "rules": [
            {
              "desc": "头条文章",
              "path_match": {
                "regex": "^/article(?:$|/)"
              },
              "query_match": {
                  "id": {
                      "map": "object_id",
                      "value_prefix": "1022:"
                  }
              },
              "scheme": "sinaweibo://article"
            }
        ]
    },
    {
        "host": ["weibo.cn"],
        "rules": [],
        "second_jump_rules":[
            {
                "desc":"二次跳转链接",
                "path_match":{
                    "regex":"^/(?:appurl)(?:$|/)"
                },
                "query_match": {
                    "scheme": {
                        "map": "com.weibo.universallinks.query_param_to_schemebase"
                    }
                },
                "scheme": "com.weibo.universallinks.query_param_to_schemebase"
            }
        ]
    }
  ]
}
